(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){},25:function(e,t,a){e.exports=a(49)},49:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(22),l=a.n(c),o=a(3),i=a(4),s=a(6),u=a(5),d=a(7),m=(a(13),function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("nav",{className:"nav bg-dark"},r.a.createElement("div",{className:"row w-100 py-4"},r.a.createElement("div",{className:"container text-center"},r.a.createElement("h2",{className:"text-white"},"Presdential Candidates 2020"),r.a.createElement("h3",{className:"text-warning"},"Finances in Truth")))))}}]),t}(n.Component)),p=a(9),h=a(10),f=a.n(h),g=function(e){function t(e){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this,e))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){f()({method:"GET",url:"https://api.open.fec.gov/v1/candidates/search/?office=P&election_year=2020&incumbent_challenge=I&incumbent_challenge=C&page=1&per_page=50&sort_nulls_last=false&has_raised_funds=true&sort=name&sort_hide_null=false&sort_null_only=false&is_active_candidate=true&api_key=".concat("sO43O5ckT95cJQG6p0apWTZgdYR1xKP1MB65AVoT","&candidate_status=C&year=2020")}).then(function(e){var t=e.data.results;console.log(t);var a=t.map(function(e,t){return e.name.split(",").reverse().join(" ")+" - "+e.party}).sort(),n=document.getElementById("prez");n.options.length=0,a.forEach(function(e,r){n.options[n.options.length]=new Option(a[r],t[r].principal_committees[0].committee_id)})}).catch(function(e){return console.log("Danger, Will Robinson! "+e)})}},{key:"render",value:function(){var e=this.props.handleSelect;return r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex justify-content-center pt-4"},r.a.createElement("div",{className:"form-group row text-center align-middle"},r.a.createElement("label",{htmlFor:"prez",className:"col-auto col-form-label col-form-label-sm"},r.a.createElement("span",{className:"h6 text-dark"},"Select a Candidate")),r.a.createElement("div",{className:"col-auto"},r.a.createElement("select",{className:"form-control",id:"prez",onChange:e})))))}}]),t}(n.Component),v=a(23),b="sO43O5ckT95cJQG6p0apWTZgdYR1xKP1MB65AVoT",y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleSelect=function(e){var t=e.currentTarget.value;a.setState({isLoading:!0}),f()({method:"GET",url:"https://api.open.fec.gov/v1/committee/".concat(t,"/schedules/schedule_a/by_size/?per_page=20&cycle=2020&page=1&sort_hide_null=false&sort=-cycle&api_key=").concat(b,"&sort_null_only=false&sort_nulls_last=false\n                        ")}).then(function(e){var t=e.data.results.map(function(e){return{size:e.size,total:e.total,count:e.count}}).sort(function(e,t){return e.size>t.size?1:-1});a.setState({data:t,isLoading:!1})}).catch(function(e){console.log("Danger, Will Robinson! "+e),a.setState({isLoading:!1})})},a.buildBar=function(e){var t=p.d("#holder").append("svg").attr("viewBox","0 0 1200 800").attr("perserveAspectRatio","xMinYMid").append("g").attr("transform","translate("+1200/1.75+", 400)");console.log(a.state.data);var n=p.c().range(["#ed5565","#f8ac59","#23c6c8","#1ab394","#1c84c6"]).domain(e,function(e){return e.size}),r=Math.min(1200,800)/2,c=.3*r,l=Object(v.a)().attr("id","tooltip").offset([0,0]).attr("class","tooltip").html(function(t){return"Total Donations: $"+e.total+"</br># of Donations in Category: "+e.count});t.call(l);var o=p.b().value(function(e){return e.total}).sort(null),i=p.a().innerRadius(c).outerRadius(r),s=(t.selectAll(".oArc").data(o(e)).enter().append("path").attr("fill",function(e,t){return n(t)}).attr("stroke","#5a5a5a").attr("class","oArc").attr("d",i).on("mouseover",l.show).on("mouseout",l.hide),p.c().domain(["< $200","$200.01 - $499.99","$500 - $999.99","$1000 - $1999.99","> $2000"]).range(["#ed5565","#f8ac59","#23c6c8","#1ab394","#1c84c6"])),u=p.d("#legend").append("g").attr("transform","translate(600, "+800/1.5+")");u.selectAll(".legend").data(s.domain()).enter().append("circle").attr("cx",function(e,t){return t%1*100}).attr("cy",function(e,t){return 50*parseInt(t/1)}).attr("r",7).style("fill",function(e){return s(e)}).style("stroke",function(e){return s(e)}).style("alignment-baseline","bottom"),u.append("text").attr("x",function(e,t){return t%1*100}).attr("y",function(e,t){return 50*parseInt(t/1)+40}).text(function(e){return e}).style("line-height","1.5em").attr("text-anchor","left").style("alignment-baseline","top")},a.state={isLoading:!1,data:{}},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(){this.buildBar(this.state.data)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(g,{handleSelect:this.handleSelect}),this.state.isLoading?r.a.createElement("h3",{className:"text-primary text-center"},"Data Loading . . ."," "):r.a.createElement("div",{id:"holder"}),this.state.isLoading?null:r.a.createElement("div",null,r.a.createElement("svg",{id:"legend",width:"100%",height:"100px"})))}}]),t}(n.Component),E=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("section",null,r.a.createElement("div",{className:"row bg-secondary chartrow"},r.a.createElement("div",{id:"chartbox",className:"bg-white shadow-lg mx-auto"},r.a.createElement(y,null)))))}}]),t}(n.Component),O=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"row bg-dark w-100 text-center py-2"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"h6 text-white text-center"},"\xa9",(new Date).getFullYear()," Megan Bailey || Data provided by"," ",r.a.createElement("a",{className:"text-warning",href:"https://api.open.fec.gov/developers"},"FEC API")))))}}]),t}(n.Component),j=a(24);a.n(j).a.config();var w=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(m,null),r.a.createElement(E,null),r.a.createElement(O,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,1,2]]]);
//# sourceMappingURL=main.114f54f8.chunk.js.map