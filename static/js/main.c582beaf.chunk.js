(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){e.exports=a(46)},27:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(19),c=a.n(o),l=a(3),i=a(4),s=a(6),u=a(5),d=a(7),m=(a(27),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("nav",{className:"nav bg-dark"},r.a.createElement("div",{className:"row w-100 py-4"},r.a.createElement("div",{className:"container text-center"},r.a.createElement("h2",{className:"text-white"},"Presdential Candidates 2020"),r.a.createElement("h3",{className:"text-warning"},"Finances in Truth")))))}}]),t}(n.Component)),p=600,h=1100,f=a(2),g=a(8),b=a.n(g),v=function(e){function t(e){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this,e))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){b()({method:"GET",url:"https://api.open.fec.gov/v1/candidates/search/?office=P&election_year=2020&incumbent_challenge=I&incumbent_challenge=C&page=1&per_page=50&sort_nulls_last=false&has_raised_funds=true&sort=name&sort_hide_null=false&sort_null_only=false&is_active_candidate=true&api_key=".concat("sO43O5ckT95cJQG6p0apWTZgdYR1xKP1MB65AVoT","&candidate_status=C&year=2020")}).then(function(e){var t=e.data.results;console.log(t);var a=t.map(function(e,t){return e.name.split(",").reverse().join(" ")+" - "+e.party}).sort(),n=document.getElementById("prez");n.options.length=0,a.forEach(function(e,r){n.options[n.options.length]=new Option(a[r],t[r].principal_committees[0].committee_id)})}).catch(function(e){return console.log("Danger, Will Robinson! "+e)})}},{key:"render",value:function(){var e=this.props.handleSelect;return r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex justify-content-center pt-4"},r.a.createElement("div",{className:"form-group row text-center align-middle"},r.a.createElement("label",{htmlFor:"prez",className:"col-auto col-form-label col-form-label-sm"},r.a.createElement("span",{className:"h6 text-dark"},"Select a Candidate")),r.a.createElement("div",{className:"col-auto"},r.a.createElement("select",{className:"form-control",id:"prez",onChange:e})))))}}]),t}(n.Component),y="sO43O5ckT95cJQG6p0apWTZgdYR1xKP1MB65AVoT",E=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleSelect=function(e){var t=e.currentTarget.value;a.setState({isLoading:!0}),b()({method:"GET",url:"https://api.open.fec.gov/v1/committee/".concat(t,"/schedules/schedule_a/by_size/?per_page=20&cycle=2020&page=1&sort_hide_null=false&sort=-cycle&api_key=").concat(y,"&sort_null_only=false&sort_nulls_last=false\n                        ")}).then(function(e){var t=e.data.results.map(function(e){return{size:e.size,total:e.total,count:e.count}}).sort(function(e,t){return e.size>t.size?1:-1});a.setState({data:t,isLoading:!1})}).catch(function(e){console.log("Danger, Will Robinson! "+e),a.setState({isLoading:!1})})},a.buildBar=function(e){var t=f.g("#chart").append("g").attr("transform","translate("+h/2+","+p/2+")");console.log(a.state.data);var n=f.f().range(["#ed5565","#f8ac59","#23c6c8","#1ab394","#1c84c6"]).domain(e,function(e){return e.size}),r=Math.min(h,p)/2,o=.3*r,c=f.e().range([0,f.c(function(e){return e.total})]).domain([0,f.c(e)]),l=f.g("body").append("div").attr("id","tooltip").style("opacity",0).attr("class","tooltip").style("position","absolute"),i=f.d().value(function(e){return e.total}).sort(null),s=f.a().innerRadius(o).outerRadius(r),u=f.a().innerRadius(o).outerRadius(function(e){return c(e.total)}),d=(t.selectAll("path").data(i(e)).enter().append("path").attr("fill",function(e,t){return n[t]}).attr("class",".arc").attr("stroke","#5a5a5a").attr("d",u).on("mouseover",function(e){l.transition().duration(200).style("opacity","1").style("pointer-events","none"),l.html("Total Donations: $"+e.total.replace(/\B(?=(\d{3})+(?!\d))/g,",")+"</br>Number of Donations in Size Category: "+e.count).style("left",f.b.pageX+20).style("top",f.b.pageY-10).on("mouseout",function(e,t){l.transition().duration(250).style("opacity","0")})}),t.selectAll(".oArc").data(i(e)).enter().append("path").attr("fill",function(e,t){return n(t)}).attr("stroke","#5a5a5a").attr("class",".oArc").attr("d",s),f.f().domain(["< $200","$200.01 - $499.99","$500 - $999.99","$1000 - $1999.99","> $2000"]).range(["#ed5565","#f8ac59","#23c6c8","#1ab394","#1c84c6"])),m=t.selectAll(".legend").data(d.domain()).enter().append("g").attr("id","legend").attr("class","legend").attr("transform",function(e,t){return"translate(360,"+(30*t+(30+d.domain().length/2))+")"});m.append("circle").attr("cx",15).attr("cy",15).attr("r",7).style("fill",function(e){return d(e)}).style("stroke",function(e){return d(e)}).style("alignment-baseline","bottom"),m.append("text").attr("x",25).attr("y",25).text(function(e){return e}).style("line-height","1.5em").attr("text-anchor","left").style("alignment-baseline","top")},a.state={isLoading:!1,data:{}},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(){this.buildBar(this.state.data)}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(v,{handleSelect:this.handleSelect}),this.state.isLoading?r.a.createElement("h3",{className:"text-primary text-center"},"Data Loading . . ."," "):r.a.createElement("svg",{id:"chart",className:"chart",width:"100%",height:p}))}}]),t}(n.Component),O=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("section",null,r.a.createElement("div",{className:"row bg-secondary chartrow"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{id:"chartbox",className:"bg-white shadow-lg mx-auto"},r.a.createElement(E,null))))))}}]),t}(n.Component),_=a(20);a.n(_).a.config();var j=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(m,null),r.a.createElement(O,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[21,1,2]]]);
//# sourceMappingURL=main.c582beaf.chunk.js.map